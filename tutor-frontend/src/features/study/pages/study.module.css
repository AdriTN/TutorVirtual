/* ==========================================================================
   StudyPage – layout + generador de pregunta
   ==========================================================================*/

/* ---------- layout base ---------- */
.page{
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

.main{
  flex:1;
  padding:var(--space-xl);          /* antes 2rem */
}

/* ---------- bloque selector + botón ---------- */
.generateBox{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:1.2rem;
  margin:var(--space-xl) 0;
}

/* Selector de temas */
.select{
  -webkit-appearance:none;
  -moz-appearance:none;
  appearance:none;

  max-width:260px;
  width:100%;
  padding:.65rem 1rem;

  font-size:1rem;
  background:#fff;
  color:#000;

  border:2px solid var(--color-border);
  border-radius:var(--radius-md);

  /* flecha ↓ */
  background-image:url("data:image/svg+xml,%3Csvg width='12' height='7' viewBox='0 0 12 7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 7L0 0h12L6 7z' fill='%2345515d'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:calc(100% - 10px) center;
  background-size:12px 7px;

  cursor:pointer;
  transition:border-color var(--ease-fast),box-shadow var(--ease-fast);
}

.select:focus{
  outline:none;
  border-color:var(--color-primary);
  box-shadow:0 0 0 3px color-mix(in srgb,var(--color-primary) 30%,transparent);
}

/* Botón generar */
.generateBtn{
  padding:.7rem 1.6rem;
  background:var(--color-primary);
  color:#fff;
  border:none;
  border-radius:28px;
  font-weight:600;
  cursor:pointer;
  transition:background var(--ease-fast),opacity var(--ease-fast);
}

.generateBtn:hover{background:var(--color-primary-hover)}
.generateBtn:disabled{
  opacity:.5;
  cursor:not-allowed;
}

/* ---------- estado de error ---------- */
.statusError{
  color:var(--color-danger,#c62828);
  text-align:center;
  margin:var(--space-lg) 0;
}

/* Layout para ejercicio y chat */
.studyArea {
  display: flex;
  gap: 2rem; /* Espacio entre la zona de ejercicio y la zona de chat */
  align-items: flex-start; /* Alinea los items al inicio si tienen alturas diferentes */
}

.exerciseAndControls {
  flex: 2; /* El área de ejercicio ocupa más espacio */
  display: flex;
  flex-direction: column;
  gap: 1rem; /* Espacio entre ExerciseCard y Controls */
}

.chatArea {
  flex: 1; /* El área de chat ocupa menos espacio */
  /* El componente ChatWindow ya tiene su propio max-height y estilos */
  position: sticky; /* Para que el chat se quede fijo al hacer scroll en la parte de ejercicio si esta es más larga */
  top: 100px; /* Ajusta según la altura de tu NavBar o HeaderBar fijo */
  align-self: flex-start; /* Asegura que se alinee con el inicio del contenedor flex */
  max-height: calc(100vh - 120px); /* Evita que el chat sea más alto que la ventana, ajusta el 120px según sea necesario */
}

/* Responsive: en pantallas más pequeñas, apila el chat debajo del ejercicio */
@media (max-width: 992px) { /* Ajusta este breakpoint según necesidad */
  .studyArea {
    flex-direction: column;
    align-items: stretch; /* Estira los hijos para que ocupen el ancho completo */
  }

  .chatArea {
    position: static; /* Quita el sticky en móvil */
    max-height: 500px; /* Restaura o ajusta una altura máxima para móvil */
    margin-top: 2rem; /* Añade espacio arriba cuando está apilado */
  }
}
